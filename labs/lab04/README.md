# IPv4

### Часть 1: Разработаем и задокументируем адресное пространство для лабораторного стенда

#### Шаг 1: Составим список сетей и присвоим vlanы

1.1.0.0/26 – Стыковочные сети между офисов

1.1.1.0/27 – Стыковочная сеть внутри офиса AS 1001

1.1.2.0/28 – Стыковочная сеть внутри офиса AS 2042

1.1.3.0/28 – Стыковочная сеть внутри офиса AS 520

172.16.0.0/24 – Сеть управления AS 1001 (10 vlan)

192.168.0.0/24 – Пользовательская сеть AS 1001 (11 vlan)

172.16.1.0/24 – Сеть управления AS 2042 (20 vlan)

192.168.1.0/24 – Пользовательская сеть AS 2042 (21 vlan)

172.16.2.0/24 – Сеть управления Чокурдах (30 vlan)

192.168.2.0/24 – Пользовательская сеть Чокурдах (31 vlan)

#### Шаг 2: Определим на каком оборудовании и порту будут шлюзы и присвоим им IP адреса.

AS 1001 - R13
`
e0/0.10 – 172.16.0.1
e0/0.11 - 192.168.0.1
`

AS 2042 - R17
`
e0/0.20 – 172.16.1.1
e0/0.21 - 192.168.1.1
`

Чокурдах
`
e0/2.30 – 172.16.2.1
e0/2.31 - 192.168.2.1
`

#### Шаг 3: Присвоим IP адреса коммутаторам и VPC.

Адреса будут в последнем октете иметь цифру, совпадающую с номером коммутатора на схеме, например, для коммутатора SW2 адрес будет иметь вид 172.16.0.2.

Адреса VPC будут первыми двумя цифрами после шлюза.

#### Шаг 4: Нанесем все данные схему.
![](https://github.com/irvin232/OTUS-network-engineer/blob/master/labs/lab04/lab04-схема.png)

### Часть 2: Настройка оборудования.

#### Шаг 1: Присвоим имя и настроим ip адреса на каждом активном порту маршрутизаторов по примеру настройки порта e0/2 на R13:
`
hostname R13
int e0/2
ip address 1.1.1.22 255.255.255.252
no shutdown
`
#### Шаг 2: Настроим шлюзы для сетей управления и сетей пользователей по примеру настройки порта e0/0 на R13:
`
int e0/0
no shutdown
exit
int e0/0.10
description vlan 10
encapsulation dot1Q 10
ip address 172.16.0.1 255.255.255.192
exit
int e0/0.11
description vlan 11
encapsulation dot1Q 11
ip address 192.168.0.1 255.255.255.192
exit
`
#### Шаг 3: Добавим vlanы на коммутаторах, настроим интерфейсы для управления, транковые порты и порты доступа по примеру настройки SW2:
`
vlan 10
name MGMT
exit
vlan 11
name Clients
exit
int vlan 10
description Management
ip address 172.16.0.2 255.255.255.0
no shutdown
int e0/0
switchport trunk encapsulation dot1q
switchport mode trunk
switchport trunk allowed vlan 10,11
exit
int e0/1
switchport trunk encapsulation dot1q
switchport mode trunk
switchport trunk allowed vlan 10,11
int e0/2
switchport mode access
switchport access vlan 11
exit
`
Шаг 4: Назначим статические IP адреса для VPC на примере VPC7
`
ip 192.168.0.3/24 192.168.0.1
`
